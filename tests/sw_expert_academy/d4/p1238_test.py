from typing import List, Sequence, Tuple

import pytest
from src.sw_expert_academy.d4.p1238 import contact

cases: Sequence[Tuple[int, int, List[int], int]] = [
    (24, 2, [1, 17, 3, 22, 1, 8, 1, 7, 7, 1, 2, 7, 2, 15, 15, 4, 6, 2, 11, 6, 4, 10, 4, 2], 17),
    (
        (300, 96,
         [96, 40, 69, 99, 84, 40, 16, 22, 94, 27, 23, 39, 29, 82, 100, 79, 92, 24, 44, 35, 44, 50, 3, 8, 3, 42, 88, 47,
          92, 38, 14, 1, 17, 91, 63, 36, 27, 11, 78, 83, 61, 90, 6, 75, 64, 23, 96, 67, 61, 39, 89, 12, 46, 68, 26, 68,
          90, 43, 64, 48, 3, 18, 100, 24, 27, 4, 49, 52, 71, 37, 59, 68, 57, 6, 32, 63, 20, 76, 57, 32, 96, 45, 92, 4,
          89, 16, 51, 20, 73, 92, 84, 34, 76, 43, 70, 1, 55, 79, 86, 58, 34, 94, 91, 4, 51, 34, 23, 72, 12, 91, 39, 42,
          59, 48, 53, 59, 80, 3, 84, 91, 3, 69, 23, 96, 36, 9, 62, 43, 95, 100, 89, 79, 43, 58, 42, 48, 70, 46, 81, 14,
          65, 11, 62, 86, 74, 5, 63, 4, 3, 70, 55, 30, 53, 75, 50, 31, 45, 45, 50, 19, 66, 64, 53, 74, 71, 32, 48, 12,
          70, 99, 99, 4, 53, 80, 54, 44, 23, 89, 64, 35, 51, 23, 41, 12, 93, 52, 81, 78, 17, 77, 79, 21, 16, 49, 99, 80,
          36, 58, 84, 63, 3, 63, 21, 71, 23, 74, 42, 87, 89, 18, 18, 93, 99, 68, 50, 66, 90, 33, 20, 82, 4, 31, 29, 32,
          90, 53, 31, 73, 65, 8, 96, 29, 82, 91, 11, 78, 72, 37, 60, 44, 41, 34, 38, 94, 31, 75, 94, 83, 4, 62, 91, 63,
          8, 98, 52, 24, 91, 18, 41, 4, 67, 84, 62, 60, 46, 87, 52, 66, 2, 41, 10, 98, 84, 51, 59, 22, 76, 82, 88, 72,
          88, 100, 5, 80, 39, 1, 31, 62, 19, 6, 41, 29, 60, 23, 99, 61, 99, 36, 82, 15], 59)
    )
]


@pytest.mark.parametrize("n, first, nodes, expected", cases)
def test_maze(n: int, first: int, nodes: List[int], expected: int):  # noqa
    assert expected == contact(n, first, nodes)
